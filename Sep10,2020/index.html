<!DOCTYPE HTML>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <TITLE>Main Console</TITLE>
    <style>
        .topnav {
            margin: 0;
            padding: 0;
            border: 0;
            font-family: Arial, Helvetica, sans-serif;
            overflow: hidden;
            background-color: #333;
        }

        .topnav a {
            float: left;
            color: #f2f2f2;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            font-size: 17px;
        }

        .topnav a:hover {
            background-color: #ddd;
            color: black;
        }

        .topnav a.active {
            background-color: #4CAF50;
            color: white;
        }

        table {
            font-family: arial, sans-serif;
            border-collapse: collapse;
            width: 55vw;
            min-width: 480px;
        }

        td,
        th {
            border: 1px solid #dddddd;
            text-align: center;
            padding: 8px;
        }

        #AddBtn {
            background-color: greenyellow;
        }

        #DelBtn {
            background-color: red;
        }

        #deleteExistingTableLine {
            width: 45vw;
            min-width: 480px;
        }

    </style>
    <script>
        function onLoadFunc() {
            document.getElementById("NewID").value = parseInt(document.getElementById("idCntLatestBooking").innerHTML, 10) + 1;
            document.getElementById("idCntLatestBooking").innerHTML = parseInt(document.getElementById("idCntLatestBooking").innerHTML, 10) + 1;
        }

    </script>
</head>

<body onload="onLoadFunc()">
    <div class="topnav">
        <a class="active" href="#home">Home</a>
        <a href="#news">News</a>
        <a href="#contact">Contact</a>
        <a href="#about">About</a>
    </div>
    <script>
        function addBtnClicked(form) {
            var requiredArr = document.getElementsByClassName('required');
            for (var i = 0; i < requiredArr.length; i++) {
                if (requiredArr[i].value.length == 0) {
                    alert("Please Fill Out All Blanks!");
                    requiredArr[i].focus();
                    return false;
                } else {
                    return true;
                }
            }
        }

        function delBtnClicked(form) {
            var requiredDelField = document.getElementById('DelFieldSelection');
            var requiredValue = document.getElementById('delValue');

            if (requiredDelField.value == "") {
                alert("Please Select the Field!");
                requiredDelField.focus();
                return false;
            } else if (requiredValue.value.length == 0) {
                alert("Please Input the Value to Search For!");
                requiredValue.focus();
                return false;
            } else {
                return true;
            }
        }

        function addNewTableLine(form) {
            var table = document.getElementById("StudentBoard");
            var LastRow = document.getElementById("StudentBoard").rows.length;
            //alert(LastRow);
            var row = table.insertRow((LastRow - 1));
            var id = row.insertCell(0);
            var name = row.insertCell(1);
            var Math = row.insertCell(2);
            var Sci = row.insertCell(3);
            var Eng = row.insertCell(4);
            row.insertCell(5);

            id.setAttribute("class", "TableCellId");
            name.setAttribute("class", "TableCellName");
            Math.setAttribute("class", "TableCellMath");
            Sci.setAttribute("class", "TableCellSci");
            Eng.setAttribute("class", "TableCellEng");

            id.innerHTML = form.NewID.value;
            name.innerHTML = form.NewName.value;
            Math.innerHTML = form.NewMath.value;
            Sci.innerHTML = form.NewScience.value;
            Eng.innerHTML = form.NewEng.value;

            document.getElementById("StudentInfoForm").reset();
            document.getElementById("NewID").value = parseInt(document.getElementById("idCntLatestBooking").innerHTML, 10) + 1;
            document.getElementById("idCntLatestBooking").innerHTML = parseInt(document.getElementById("idCntLatestBooking").innerHTML, 10) + 1;
            return false;
        }

        function delTableLine(form) {
            var selection = document.getElementById('DelFieldSelection');
            var InputValue = document.getElementById('delValue');

            var selectionChoiceArrID = document.getElementsByClassName('TableCellId');
            var selectionChoiceArrName = document.getElementsByClassName('TableCellName');
            var selectionChoiceArrMath = document.getElementsByClassName('TableCellMath');
            var selectionChoiceArrScience = document.getElementsByClassName('TableCellSci');
            var selectionChoiceArrEnglish = document.getElementsByClassName('TableCellEng');


            if (selection.value == "id") {
                for (var i = 0; i < selectionChoiceArrID.length; i++) {
                    if (selectionChoiceArrID[i].innerHTML == InputValue.value) {
                        document.getElementById("StudentBoard").deleteRow(i + 1);
                    }
                }
            } else if (selection.value == "name") {
                for (var i = 0; i < selectionChoiceArrName.length; i++) {
                    if (selectionChoiceArrName[i].innerHTML == InputValue.value) {
                        document.getElementById("StudentBoard").deleteRow(i + 1);
                    }
                }
            } else if (selection.value == "MathScore") {
                for (var i = 0; i < selectionChoiceArrMath.length; i++) {
                    if (selectionChoiceArrMath[i].innerHTML == InputValue.value) {
                        document.getElementById("StudentBoard").deleteRow(i + 1);
                    }
                }
            } else if (selection.value == "ScienceScore") {
                for (var i = 0; i < selectionChoiceArrScience.length; i++) {
                    if (selectionChoiceArrScience[i].innerHTML == InputValue.value) {
                        document.getElementById("StudentBoard").deleteRow(i + 1);
                    }
                }
            } else if (selection.value == "EngScore") {
                for (var i = 0; i < selectionChoiceArrEnglish.length; i++) {
                    if (selectionChoiceArrEnglish[i].innerHTML == InputValue.value) {
                        document.getElementById("StudentBoard").deleteRow(i + 1);
                    }
                }
            }
            return false;
        }

        function delSelectionOnChange(a) {
            if (a == "name") {
                document.getElementById('pTagUnderDelTable').innerHTML = "Notice: All datas with the same name will be deleted!";
            } else if (a == "MathScore") {
                document.getElementById('pTagUnderDelTable').innerHTML = "Notice: All datas with the same Math Score will be deleted!";
            } else if (a == "ScienceScore") {
                document.getElementById('pTagUnderDelTable').innerHTML = "Notice: All datas with the same Science Score will be deleted!";
            } else if (a == "EngScore") {
                document.getElementById('pTagUnderDelTable').innerHTML = "Notice: All datas with the same English Score will be deleted!";
            }
        }

    </script>

    <center>
        <table id="StudentBoard">
            <thead>
                <tr>
                    <th>id</th>
                    <th>name</th>
                    <th>Math<br>score</th>
                    <th>Science<br>score</th>
                    <th>English<br>score</th>
                    <th></th>
                </tr>
            </thead>

            <tbody>
                <tr>
                    <form id="StudentInfoForm" action="" onsubmit="if(addBtnClicked(this)){return addNewTableLine(this)}">
                        <td> <input type="number" id="NewID" placeholder="id" disabled> </td>
                        <td> <input type="text" class="required" id="NewName" placeholder="name"> </td>
                        <td> <input type="number" class="required" placeholder="Math" id="NewMath" onkeypress="return event.charCode >= 48 && event.charCode <= 57"> </td>
                        <td> <input type="number" class="required" placeholder="Science" id="NewScience" onkeypress="return event.charCode >= 48 && event.charCode <= 57"> </td>
                        <td> <input type="number" class="required" placeholder="English" id="NewEng"> </td>

                        <td><input type="submit" id="AddBtn" value="Add"></td>
                    </form>
                </tr>
            </tbody>
        </table>

        <div style="padding-bottom: 16vh; padding-top: 16vh"></div>

        <table id="deleteExistingTableLine">
            <thead>
                <tr>
                    <th>Field</th>
                    <th>Value</th>
                    <th></th>
                </tr>
            </thead>

            <tbody>
                <tr>
                    <form id="StudentInfoDeleteForm" action="" onsubmit="if(delBtnClicked(this)){return delTableLine(this)}">
                        <td> <select name="DelFieldSelection" id="DelFieldSelection" class="requiredDel" onchange="delSelectionOnChange(this.value);">
                                <option value="" selected disabled>Please Select</option>
                                <option value="id">id</option>
                                <option value="name">name</option>
                                <option value="MathScore">Math Score</option>
                                <option value="ScienceScore">Science Score</option>
                                <option value="EngScore">English Score</option>
                            </select> </td>
                        <td> <input type="text" class="requiredDel" id="delValue" placeholder="value"> </td>

                        <td><input type="submit" id="DelBtn" value="Del"></td>
                    </form>
                </tr>
            </tbody>
        </table>
        <p id="pTagUnderDelTable" style="color: crimson;"></p>
        <p id="idCntLatestBooking" hidden>0</p>
    </center>

</body>

</html>
